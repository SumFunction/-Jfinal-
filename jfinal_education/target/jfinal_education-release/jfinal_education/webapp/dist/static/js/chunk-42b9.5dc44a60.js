(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-42b9"],{C6Z6:function(e,t,a){"use strict";var r=a("rCLr");a.n(r).a},rCLr:function(e,t,a){},sKZc:function(e,t,a){"use strict";a.r(t);var r=a("w7v5"),c=a("iWu5"),o=a("PLwA"),i={components:{ImageCropper:c.a,PanThumb:o.a},data:function(){return{teacher:{},BASE_API:"http://101.43.205.252:80",imagecropperShow:!1,imagecropperKey:1}},created:function(){var e=this;null!=this.$route.params.id&&r.a.queryById(this.$route.params.id).then(function(t){e.teacher=t.data.item})},watch:{$route:function(e,t){this.teacher={}}},methods:{saveOrUpdate:function(){var e=this;null!=this.$route.params.id?r.a.updateTeacher(this.teacher).then(function(t){e.$message({message:"修改成功！",type:"success"}),e.$router.push("/teacher/list")}):r.a.addTeacher(this.teacher).then(function(t){e.$message({message:"添加成功！",type:"success"}),e.$router.push("/teacher/list")})},cropSuccess:function(e){this.imagecropperShow=!1,this.teacher.avatar=e.url,this.imagecropperKey=this.imagecropperKey+1},close:function(){this.imagecropperShow=!1}}},s=(a("C6Z6"),a("KHd+")),n=Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"讲师名称"}},[a("el-input",{model:{value:e.teacher.name,callback:function(t){e.$set(e.teacher,"name",t)},expression:"teacher.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"讲师头衔"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.teacher.level,callback:function(t){e.$set(e.teacher,"level",t)},expression:"teacher.level"}},[a("el-option",{attrs:{value:1,label:"高级讲师"}}),e._v(" "),a("el-option",{attrs:{value:2,label:"首席讲师"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"讲师简介"}},[a("el-input",{attrs:{rows:10,type:"textarea"},model:{value:e.teacher.intro,callback:function(t){e.$set(e.teacher,"intro",t)},expression:"teacher.intro"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"讲师头像",method:"post",name:"file"}},[a("pan-thumb",{attrs:{image:e.teacher.avatar}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){e.imagecropperShow=!0}}},[e._v("更换头像\n        ")]),e._v(" "),a("image-cropper",{directives:[{name:"show",rawName:"v-show",value:e.imagecropperShow,expression:"imagecropperShow"}],key:e.imagecropperKey,attrs:{width:300,height:300,url:e.BASE_API+"/eduoss/upload",field:"file"},on:{close:e.close,"crop-upload-success":e.cropSuccess}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);n.options.__file="add.vue";t.default=n.exports},w7v5:function(e,t,a){"use strict";var r=a("t3Un");t.a={getAllTeacher:function(){return Object(r.a)({url:"/eduservice/after/teacher/findAll",method:"get"})},getTeacherList:function(e,t,a){return Object(r.a)({url:"/eduservice/after/teacher/findTeacherByPages/?current="+e+"&limit="+t,method:"post",data:a})},removeDataById:function(e){return Object(r.a)({url:"/eduservice/after/teacher/deleteTeacherById?id="+e,method:"get"})},addTeacher:function(e){return Object(r.a)({url:"/eduservice/after/teacher/addTeacher",method:"post",data:e})},queryById:function(e){return Object(r.a)({url:"/eduservice/after/teacher/findById/?id="+e,method:"get"})},updateTeacher:function(e){return Object(r.a)({url:"/eduservice/after/teacher/updateTeacher",method:"post",data:e})}}}}]);